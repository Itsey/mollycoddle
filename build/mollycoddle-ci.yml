trigger:
  - main

stages:
  - stage: MollycoddleCIBuild
    displayName: 'Mollycoddle CI Build'
    dependsOn: [  ]

    pool:
      name: 'FarawayLand'  

    jobs:
      - job: Build
        displayName: 'Mollycoddle CI Build.'
        dependsOn: [  ]
        steps:
          - task: CmdLine@2
            displayName: 'Run: ArrangeStep'
            inputs:
              script: '.\src\build.cmd ArrangeStep --root .\src\'

          - task: CmdLine@2
            displayName: 'Run: ConstructStep'
            inputs:
              script: '.\src\build.cmd ConstructStep --skip ArrangeStep --root .\src\'
      
          - task: CmdLine@2
            displayName: 'Run: ExamineStep'
            inputs:
              script: '.\src\build.cmd ExamineStep --skip ArrangeStep ConstructStep --root .\src\'